<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>thoughtsbook.com</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />

<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>


<script type="text/javascript">
$(document).ready(function(){
	
	
	$("#submit").click(function() {
		// alert("User Registration is completed !");
		/* Act on the event */
		var userName = $("#userName").val();
		var password = $("#password").val();
		var sexValue = $("#sex").val();

		
        // alert("credentials are : "+userName+password+sexValue);
       alert("over to login screen");
       readFile(userName,password,sexValue);
	}); // closure for submit button click


function getElement(id) { return document.getElementById(id); } // Get el by ID helper function

function readFile(username,password,sexValue) {
  // var data="";
  // alert("Over to login screen ! ");
  // alert(this.parent(selector);
    // alert(this);
    // alert(EL("inp"));
  if (getElement("imageFile").files && getElement("imageFile").files[0]) {
    var FR= new FileReader();
    FR.onload = function(e) {
      // alert("test!!!"+e.target.result+"!!!test");
      // alert(e.target.result);
      // var dataUrl = e.target.result;
      // alert("passed"+password+" : value is : "+dataUrl);
       // urlData = "testDatakjsdfljf";
      // alert("url data is : "+urlData);
      // urlData = "&&&&&"+urlData+"&&&&&";

      urlDataww = e.target.result;

       // alert("data"+data);
       // return urlData;
      // getElement("img").src  = data;
      // getElement("b64").innerHTML = data;
    	// alert("hello");
    	// alert(username+urlData);
    	// alert(username+"aparnesh-gaurav"+password+"aparnesh-gaurav"+sexValue+"aparnesh-gaurav"+urlDataww);
    	// alert("hello2");
      // return e.target.result;
      // alert(data);
      // return data;
      // alert("passed"+username+password+sexValue+"done");
      // alert("Over to login screen !");
       jQuery.ajax({
		        url: "http://localhost:8080/thoughtsbook/thoughtsbook/register",
		        type:"POST",
		        contentType: "text/plain",
		        data: username+"aparnesh-gaurav"+password+"aparnesh-gaurav"+sexValue+"aparnesh-gaurav"+urlDataww,
		        success: function(data){
		    	// alert("Registered : "+data);
		    	// alert("registered:"+data);
		    }   
		}); // closure for ajax call

				

    };
    // alert(1);
    FR.readAsDataURL( getElement("imageFile").files[0] );
    // alert(2);
    // return data;
  }
  // alert(3);
  // return data;
} // closure for readFile method

}); // closure for document ready function 



</script>

</head>
<body>
	<!--  KEEP THE HTML CODES HERE-->

	<!-- start of full screen div -->
	<div id="fullScreenDiv"
		style="width: 98%; height: 98%; position: absolute; background-color: black; border-style:">
		
		<!--  start of the header div -->
		<div id="header"
			style="top: .5%; left: .5%; right: .5%; bottom: 90%; position: absolute; background-color: black;border-style:solid">
				<p  align="center">
					<font size="5" color="white"><strong>thoughtsbook.com</strong></font>
				</p>
		</div>
		<!--  end of the header div -->
		
		<!-- div used for the login screen -->
		<div id="content"
			style="top: 35%; left: 30%; right: 30%; bottom: 30%; position: absolute; background-color: white;border-style:solid ; overflow : auto">	
			<pre>
			<form method="GET" action = "/Users/tseten/Documents/do/ui/html/LayoutDivPercentage.html">
		    <input value="username" type="text" id="userName" name="username"/>
		    <input value = "password" type="password" id="password" name="password"/>
		    <input value = "retype-password" type="password" id="retype-password" name="retype-password"/>
		    <input type = "text" name="sex" value="sex" id="sex" />
		    <input type="file" id="imageFile" />
		    <input value = "submit" type="submit" id="submit"/>
		    </form>
		    </pre>
		</div>

        <div id="header"
			style="top: 90%; left: .5%; right: .5%; bottom: 1%; position: absolute; background-color: black;border-style:solid">
		</div>

		<!-- end of the login div -->
	
	<!-- end of full screen div -->
	</div>


</body>
</html>
